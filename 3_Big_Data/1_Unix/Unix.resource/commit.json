{"compress":true,"commitItems":[["de65815d-d301-47c7-b729-9435ef2006dd",1571637963521,"",[[1571637904833,["xueni@Ninas-MacBook-Pro.local",[[1,0,"## The UNIX filesystem\n\n```\n|--bin          Binaries required before mounting /usr\n|--etc          System wide configuration files\n|--home         Users’ home directories\n|--lib          Libraries required by the system\n|--tmp          Temporary files. Everyone has RW access.\n|--usr          Programs\n| |--bin        Programs’ executables\n| |--lib        Programs’ libraries\n| |--local      Programs that are install locally\n| |   |-bin,lib,share\n| |--share Programs’ required files (e.g. docs, icons)\n| |--sbin  System administration programs\n| |--src   Source files for the kernel and programs\n|--var          Temporary space for running programs\n```"]],[0,0],[653,653]]],[1571637907382,["xueni@Ninas-MacBook-Pro.local",[[-1,0,"#"]],[2,2],[1,1]]],[1571637911103,["xueni@Ninas-MacBook-Pro.local",[[-1,1," "]],[2,2],[1,1]]],[1571637911702,["xueni@Ninas-MacBook-Pro.local",[[1,0,"#"]],[1,1],[2,2]]],[1571637912113,["xueni@Ninas-MacBook-Pro.local",[[1,2," "]],[2,2],[3,3]]],[1571637913540,["xueni@Ninas-MacBook-Pro.local",[[1,0,"\n"]],[0,0],[1,1]]],[1571637919240,["xueni@Ninas-MacBook-Pro.local",[[-1,0,"\n"]],[1,1],[0,0]]],[1571637929158,["xueni@Ninas-MacBook-Pro.local",[[-1,25,"``"]],[27,27],[25,25]]],[1571637930822,["xueni@Ninas-MacBook-Pro.local",[[-1,649,"``"]],[651,651],[649,649]]],[1571637934751,["xueni@Ninas-MacBook-Pro.local",[[1,25,"1"]],[25,25],[26,26]]],[1571637935319,["xueni@Ninas-MacBook-Pro.local",[[-1,25,"1"]],[26,26],[25,25]]],[1571637935583,["xueni@Ninas-MacBook-Pro.local",[[1,25,"·"]],[25,25],[26,26]]],[1571637936272,["xueni@Ninas-MacBook-Pro.local",[[-1,25,"·"]],[26,26],[25,25]]],[1571637937056,["xueni@Ninas-MacBook-Pro.local",[[1,25,"··"]],[25,25],[27,27]]],[1571637937578,["xueni@Ninas-MacBook-Pro.local",[[-1,25,"··"]],[27,27],[25,25]]],[1571637938930,["xueni@Ninas-MacBook-Pro.local",[[1,25,"``"]],[25,25],[27,27]]],[1571637938953,["xueni@Ninas-MacBook-Pro.local",[[1,27,"language\n```\n"]],[27,27],[27,35]]],[1571637940582,["xueni@Ninas-MacBook-Pro.local",[[1,664,"``"]],[664,664],[666,666]]],[1571637940605,["xueni@Ninas-MacBook-Pro.local",[[1,666,"language\n```\n"]],[666,666],[666,674]]],[1571637944898,["xueni@Ninas-MacBook-Pro.local",[[-1,36,"```"]],[39,39],[36,36]]],[1571637945292,["xueni@Ninas-MacBook-Pro.local",[[-1,37,"\n"]],[36,36],[35,35]]],[1571637947761,["xueni@Ninas-MacBook-Pro.local",[[-1,36,"\n"]],[36,36],[35,35]]],[1571637950329,["xueni@Ninas-MacBook-Pro.local",[[-1,658,"```language"]],[661,669],[658,658]]],[1571637950714,["xueni@Ninas-MacBook-Pro.local",[[-1,658,"\n"]],[658,658],[657,657]]],[1571637955078,["xueni@Ninas-MacBook-Pro.local",[[-1,27,"language"]],[35,35],[27,27]]],[1571637956145,["xueni@Ninas-MacBook-Pro.local",[[1,27,"bash"]],[27,27],[31,31]]],[1571637959176,["xueni@Ninas-MacBook-Pro.local",[[1,658,"\n"]],[657,657],[658,658]]],[1571637959334,["xueni@Ninas-MacBook-Pro.local",[[1,659,"\n"]],[658,658],[659,659]]],[1571637972311,["xueni@Ninas-MacBook-Pro.local",[[1,24,"\n"]],[22,22],[23,23]]],[1571637972833,["xueni@Ninas-MacBook-Pro.local",[[1,23,"## Everything is a file\n\nEverything in UNIX is represented by files. Everything can be:\n\n*   **Configuration files.** Both user profile and system/server configuration files are plain text files. This allows to easily backup/restore/compare configuration files and remote administration using low-bandwidth text consoles.\n\n*   **Devices.** Access is done using regular file I/O operations on filesystem objects (under `/dev`) that represent the real devices. For example `cat file.wav >/dev/sndcard` plays an audio file directly to the soundcard or `cat file.txt|lpr` prints it to a printer.\n\n## The UNIX filesystem"]],[23,23],[638,638]]],[1571637978367,["xueni@Ninas-MacBook-Pro.local",[[-1,0,"# "]],[3,3],[1,1]]],[1571637978735,["xueni@Ninas-MacBook-Pro.local",[[-1,1,""],[1,1," "],[-1,138," "],[1,139," "],[-1,360," "],[1,361," "],[-1,438," "],[1,439," "],[-1,491," "],[1,492," "],[-1,520," "],[1,521," "],[-1,569," "],[1,570," "],[-1,588," "],[1,589," "]],[1,1],[2,2]]],[1571637980421,["xueni@Ninas-MacBook-Pro.local",[[-1,2,"The "]],[2,5],[2,2]]],[1571637981939,["xueni@Ninas-MacBook-Pro.local",[[-1,6," filesystem"]],[7,17],[6,6]]],[1571637983145,["xueni@Ninas-MacBook-Pro.local",[[1,7,"\n"]],[6,6],[7,7]]],[1571637990873,["xueni@Ninas-MacBook-Pro.local",[[-1,2,"UNIX"],[1,6,"# Data processing at the command line"]],[2,6],[39,39]]],[1571637992343,["xueni@Ninas-MacBook-Pro.local",[[-1,2,"# "]],[4,4],[2,2]]],[1571638006222,["xueni@Ninas-MacBook-Pro.local",[[1,38,"## The UNIX operating system"]],[38,38],[66,66]]],[1571638007889,["xueni@Ninas-MacBook-Pro.local",[[1,38,"\n"]],[38,38],[39,39]]],[1571638009727,["xueni@Ninas-MacBook-Pro.local",[[-1,92,"\n"]],[93,93],[92,92]]],[1571638011931,["xueni@Ninas-MacBook-Pro.local",[[1,136,"\n"]],[136,136],[137,137]]],[1571638012598,["xueni@Ninas-MacBook-Pro.local",[[1,137,"\n"]],[137,137],[138,138]]],[1571638014254,["xueni@Ninas-MacBook-Pro.local",[[-1,157,"\n"]],[157,157],[156,156]]],[1571638021366,["xueni@Ninas-MacBook-Pro.local",[[-1,390,"\n"]],[390,390],[389,389]]],[1571638083535,[null,[[-1,0," "],[1,1,"#"]],[0,0],[2,2]]],[1571638083535,[null,[[1,0," "],[-1,0,"#"]],[2,2],[0,0]]],[1571638057847,["xueni@Ninas-MacBook-Pro.local",[[1,1319,"## Filesystem permissions\n\nFiles need to be protected against intentional or unintentional access. Filesystem permissions provide the system with information about who can access a file or directory and what can he do with it.\n\n```\n$ ls -la /bin/ls\n-rwxr-xr-x 1 root wheel   38624   Jul 15 06:29     /bin/ls\n\\        /     |      |       |   \\          /     |\nPermissions  Owner  Owning  Size     Date of     Filename\n                    group          last modification\n```\n\n|  | read(4) | write(2) | execute(1) |\n| :-- | :-- | --- | :-- |\n| owner | ×× |  | ×× |\n| group | ×× |  | ×× |\n| other | ×× |  | ×× |\n\nThe same permission set can be expressed with the number `0755`"]],[1319,1319],[1994,1994]]],[1571638143536,[null,[[-1,0," "],[1,1,"#"]],[0,0],[2,2]]],[1571638143536,[null,[[1,0," "],[-1,0,"#"]],[2,2],[0,0]]],[1571638085176,["xueni@Ninas-MacBook-Pro.local",[[1,1995,"\n"]],[1994,1994],[1995,1995]]],[1571638085326,["xueni@Ninas-MacBook-Pro.local",[[1,1996,"\n"]],[1995,1995],[1996,1996]]],[1571638085852,["xueni@Ninas-MacBook-Pro.local",[[1,1996,"## Filesystem paths\n\nA path is a sequence of directories to reach a certain file, i.e. `/home/gousiosg/foo.txt`\n\nPaths can be:\n\n*   Absolute - starting from the root directory “/” e.g. `/var/log/messages` - The system log file\n*   Relative to the current directory `.` e.g. if the current directory is `/var`, the relative path to the system log is `./log/messages` or `log/messages`\n\n## File listing commands\n\n*   **ls**: list files in a directory\n\n    *   `-l`: list details\n    *   `-a`: list hidden files (files that start with .)\n*   **find** `<dir>`: walk through a file hierarchy starting from `<dir>`\n\n    *   `-type [dfl]`: Only display _d_irectories, _f_iles or _l_inks\n    *   `-name str`: Only display entries that start with `str`\n    *   `-{max|min}depth d`\n\n## File manipulation commands\n\n*   **touch** `<file>`: Create and empty file named `<file>` or update the modification time for the existing file `<file>`\n\n*   **cp** `<from> <to>`: copy file or directory `<from>` to the location specified by `<to>`\n\n    *   `-R`: copy directories recursively\n    *   `-p`: preserve filesystem permissions and attributes\n*   **mv** `<from_1> · · · <from_n> <to>`: move files or directories `<from*>` to directory `<to>`\n\n    *   `-n`: do not overwrite existing files\n*   **mkdir **: create an empty directory in the path specified by the . The path to the directory must be pre-existing.\n\n    *   `-p`: also create intermediate directories as required"]],[1996,1996],[3454,3454]]],[1571638111369,["xueni@Ninas-MacBook-Pro.local",[[-1,2123,"\n"]],[2123,2123],[2122,2122]]],[1571638120988,["xueni@Ninas-MacBook-Pro.local",[[1,2130,"__"]],[2130,2130],[2131,2131]]],[1571638122077,["xueni@Ninas-MacBook-Pro.local",[[-1,2130,"__"]],[2131,2131],[2130,2130]]],[1571638124067,["xueni@Ninas-MacBook-Pro.local",[[1,2127,"_"],[1,2135,"_"]],[2127,2135],[2127,2137]]],[1571638126317,["xueni@Ninas-MacBook-Pro.local",[[1,2228,"_"],[1,2236,"_"]],[2228,2236],[2228,2238]]],[1571638203544,[null,[[-1,0," "],[1,1,"#"]],[0,0],[2,2]]],[1571638203544,[null,[[1,0," "],[-1,0,"#"]],[2,2],[0,0]]],[1571638154158,["xueni@Ninas-MacBook-Pro.local",[[-1,2448,"\n"]],[2448,2448],[2447,2447]]],[1571638156060,["xueni@Ninas-MacBook-Pro.local",[[1,2533,"    * \n"]],[2532,2532],[2539,2539]]],[1571638158082,["xueni@Ninas-MacBook-Pro.local",[[-1,2614,"\n"]],[2614,2614],[2613,2613]]],[1571638160880,["xueni@Ninas-MacBook-Pro.local",[[-1,2807,"\n"]],[2807,2807],[2806,2806]]],[1571638162366,["xueni@Ninas-MacBook-Pro.local",[[-1,2931,"\n"]],[2931,2931],[2930,2930]]],[1571638163756,["xueni@Ninas-MacBook-Pro.local",[[-1,3025,"\n"]],[3025,3025],[3024,3024]]],[1571638187345,["xueni@Ninas-MacBook-Pro.local",[[-1,3228,"\n"]],[3228,3228],[3227,3227]]],[1571638195658,["xueni@Ninas-MacBook-Pro.local",[[-1,3395,"\n"]],[3395,3395],[3394,3394]]],[1571638198094,["xueni@Ninas-MacBook-Pro.local",[[1,3458,"    * \n"]],[3457,3457],[3464,3464]]],[1571638198254,["xueni@Ninas-MacBook-Pro.local",[[-1,3458,"    * "]],[3464,3464],[3459,3459]]],[1571638198397,["xueni@Ninas-MacBook-Pro.local",[[1,3459,"\n"]],[3459,3459],[3460,3460]]],[1571638198509,["xueni@Ninas-MacBook-Pro.local",[[1,3460,"\n"]],[3460,3460],[3461,3461]]],[1571638198634,["xueni@Ninas-MacBook-Pro.local",[[1,3461,"\n"]],[3461,3461],[3462,3462]]],[1571638263547,[null,[[-1,0," "],[1,1,"#"]],[0,0],[2,2]]],[1571638263547,[null,[[1,0," "],[-1,0,"#"]],[2,2],[0,0]]],[1571638213078,["xueni@Ninas-MacBook-Pro.local",[[1,3462,"## Text file processing\n\n*   **cat** `file_1 · · · file_n`: concatenate and print files to standard output\n\n*   **less** `file`: displays a file on the screen allowing to browse it on both directions.\n\n    *   `q` exit\n    *   `/pattern` search for pattern in text, pressing / repeatedly moves through all occurrences.\n*   **echo** `<string>` write arguments to standard output\n\n*   **head**, **tail** `<file>`: display first/last lines of `<file>`\n\n    *   `-n` Number of lines to display\n    *   `-f` Display newly appended lines\n\n## Process management\n\n*   UNIX can do many jobs at once, dividing the processor’s time between the tasks so quickly that it looks as if everything is running at the same time. This is called multitasking.\n\n*   The UNIX shell has process management capabilities. When running a process, pressing `Ctrl+Z` will suspend it.\n\n*   A process can be killed with `Ctrl+C`\n\n*   A process can be started at the background by appending a & after the command. i.e. `find / |sort &`"]],[3462,3462],[4465,4465]]],[1571638216813,["xueni@Ninas-MacBook-Pro.local",[[-1,3569,"\n"]],[3569,3569],[3568,3568]]],[1571638218374,["xueni@Ninas-MacBook-Pro.local",[[-1,3662,"\n"]],[3662,3662],[3661,3661]]],[1571638223758,["xueni@Ninas-MacBook-Pro.local",[[-1,3838,"\n"]],[3838,3838],[3837,3837]]],[1571638226462,["xueni@Ninas-MacBook-Pro.local",[[-1,3908,"\n"]],[3908,3908],[3907,3907]]],[1571638242880,["xueni@Ninas-MacBook-Pro.local",[[1,4461,"\n* "]],[4461,4461],[4464,4464]]],[1571638243033,["xueni@Ninas-MacBook-Pro.local",[[-1,4462,"* "],[1,4464,"\n\n"]],[4464,4464],[4463,4463]]],[1571638243321,["xueni@Ninas-MacBook-Pro.local",[[1,4464,"\n"]],[4463,4463],[4464,4464]]],[1571638243467,["xueni@Ninas-MacBook-Pro.local",[[1,4465,"\n"]],[4464,4464],[4465,4465]]],[1571638243568,["xueni@Ninas-MacBook-Pro.local",[[1,4466,"\n"]],[4465,4465],[4466,4466]]],[1571638243711,["xueni@Ninas-MacBook-Pro.local",[[1,4467,"\n"]],[4466,4466],[4467,4467]]],[1571638255074,["xueni@Ninas-MacBook-Pro.local",[[1,4464,"## Manipulating running processes\n\n*   **ps** See which processes are running\n\n```\n UID   PID  PPID   C STIME   TTY           TIME CMD\n    0     1     0   0 28Nov17 ??        21:20.80 /sbin/launchd\n    0    51     1   0 28Nov17 ??         0:41.63 /usr/sbin/syslogd\n    0    52     1   0 28Nov17 ??         2:19.32 /usr/libexec/UserEventAgent (System)\n```\n\n*   **kill** `-<singalno> <pid>`: Send a signal to a process Important signals:\n\n    *   `TERM`: informs the process that it should terminate.\n    *   `KILL`: directly kill a process\n\n## Advanced text flow control\n\nA process in Unix can output to 2 data streams: `STDOUT` or `1` and `STDERR` or `2`. Unix supports 2 times of text flow control:\n\n*   **Redirects:** send a program’s output to a file (`>`) or make a program read from a file (`<`)\n\n    *   `ps -ef > processes`\n    *   `>` Overwrites an existing file; to append, we use `>>`\n\n    ```\n    $ echo \"-What a nice day\" > file\n    $ echo \"-Indeed\" >> file\n    $ cat file\n    -What a nice day\n    -Indeed\n    ```\n\n*   **Pipes:** Forward a program’s STDOUT line-by-line to the input of another program."]],[4464,4464],[5578,5578]]],[1571638259333,["xueni@Ninas-MacBook-Pro.local",[[-1,4542,"\n"]],[4543,4543],[4542,4542]]],[1571638323553,[null,[[-1,0," "],[1,1,"#"]],[0,0],[2,2]]],[1571638323554,[null,[[1,0," "],[-1,0,"#"]],[2,2],[0,0]]],[1571638267540,["xueni@Ninas-MacBook-Pro.local",[[-1,4899,"\n"]],[4899,4899],[4898,4898]]],[1571638269069,["xueni@Ninas-MacBook-Pro.local",[[-1,5032,"\n"]],[5032,5032],[5031,5031]]],[1571638270818,["xueni@Ninas-MacBook-Pro.local",[[-1,5262,"\n"]],[5262,5262],[5261,5261]]],[1571638286075,["xueni@Ninas-MacBook-Pro.local",[[1,5577,"## Pipelines\n\nWhat makes Unix such a joy to use is that most commands read and write easy to process text. This allows us to combine commands in surprising ways, using the pipe (`|`) operator.\n\n*   `cat file |wc -l`: Count lines of file\n\n*   `find / -type d | sort`: View all directories sorted\n\n*   `cat /var/log/access_log |grep foo|tail -n 10`: See the last 10 accesses from the host “foo” to our system’s web server.\n\n*   `cat /etc/passwd |cut -f1 -d':'|sort`: Get a sorted list of the system’s users."]],[5577,5577],[6082,6082]]],[1571638289146,["xueni@Ninas-MacBook-Pro.local",[[1,6083,"* \n"]],[6082,6082],[6085,6085]]],[1571638289319,["xueni@Ninas-MacBook-Pro.local",[[-1,6083,"* "]],[6085,6085],[6084,6084]]],[1571638289550,["xueni@Ninas-MacBook-Pro.local",[[1,6084,"\n"]],[6084,6084],[6085,6085]]],[1571638289679,["xueni@Ninas-MacBook-Pro.local",[[1,6085,"\n"]],[6085,6085],[6086,6086]]],[1571638323373,["xueni@Ninas-MacBook-Pro.local",[[1,6086,"## Running a command per input line\n\n**xargs** `cmd` will run `cmd` on each line in `STDIN`\n\n```\n# Get file size statistics for the current directory\n$ find . -type f -maxdepth 1 |xargs wc\n```\n\n`xargs` by default appends each line at the end of `cmd`. Some times, it may be necessary to append it in the middle. We use the `-I {}` option and\n\n```\n$ find . -type f -maxdepth 1|xargs -I {} echo File {} is in `pwd`\nFile ./labcontents.doc is in /Users/gousiosg/Documents/course-material/isrm\nFile ./Makefile is in /Users/gousiosg/Documents/course-material/isrm\n[...]\n```\n\n`xargs` can process things in parallel with `-P` option.\n\nIn terms of data processing, `xargs` is the equivalent of `map`\n\n## Filtering lines with patterns\n\n`grep` prints lines matching a pattern\n\n*   `-v`: invert search result (only print those that DO NOT match the pattern)\n*   `-i`: make matching case insensitive\n*   `-n`: print the line number of the match\n*   `-R`: recurse a directory structure\n\n```\n# Find all processes run by user 501\n$ ps -ef | egrep \"^ +501\"\n\n# Find all files that extend class Foo\n$ grep -Rn \"(Foo)\" * | grep *.py\n\n# Same, more efficient\n$ find . -type f | grep .py$ | xargs grep -n \"(Foo)\"\n```\n\n## Regular expressions in 1 min\n\n*   **.** Match any character once\n*   `*` Match the previous pattern 0 or more times\n*   **+** Match the previous pattern 1 or more times\n*   **[e-fF-M]** Match any character in the (ASCII) range `F-M` or `e-f`\n*   **[^e]** Match all characters _except_ e\n*   **^** and **$** Match the beginning or the end of the line, respectively\n*   **()** Group together items for future reference\n*   **|** Match either the left or the right group\n\n## Simple text processing\n\n`tr` character translator; can convert or delete specific characters\n\n*   `-s`: replace repeating characters into\n*   `-d`: delete a character\n\n```\n$ echo \"foo bar\" | tr 'o' 'a'\nfaa bar\n# Replace tabs with spaces\n$ tr '\\t' ' ' < file.txt\n# Remove all instances of #\n$ tr -d '#' < file.txt\n```\n\n`cut` allows us to split a line into columns, given a character, and extract specific fields.\n\n```\n# Get a list of users and home directories\n$ cut -f1,6 -d: /etc/passwd\n# Get details for all users that are running java\n$ ps -ef|tr -s ' '|grep \"java\"|cut -f3,11  -d' '\n```"]],[6086,6086],[8346,8346]]],[1571638383558,[null,[[-1,0," "],[1,1,"#"]],[0,0],[2,2]]],[1571638383558,[null,[[1,0," "],[-1,0,"#"]],[2,2],[0,0]]],[1571638351432,["xueni@Ninas-MacBook-Pro.local",[[-1,7316,"*   "]],[7318,7318],[7314,7314]]],[1571638353991,["xueni@Ninas-MacBook-Pro.local",[[-1,1987," "],[1,1988," "],[-1,2082," "],[1,2083," "],[-1,2181," "],[1,2182," "],[-1,2201," "],[1,2202," "],[-1,2263," `.` "],[1,2268," `.` "],[-1,2300," "],[1,2301," "],[-1,2347," "],[1,2348," "],[-1,2364," or "],[1,2368," or "],[-1,2552," "],[1,2553," "],[-1,2605," "],[1,2606," "],[-1,2649," "],[1,2650," "],[-1,2664," "],[1,2665," "],[-1,2675," "],[1,2676," "],[-1,2741," "],[1,2742," "],[-1,2820," "],[1,2821," "],[-1,2858," "],[1,2859," "],[-1,2867," "],[1,2868," "],[-1,2921," "],[1,2922," "],[-1,2941," "],[1,2942," "],[-1,2979," "],[1,2980," "],[-1,2988," "],[1,2989," "],[-1,3017," "],[1,3018," "],[-1,3139," "],[1,3140," "],[-1,3197," "],[1,3198," "],[-1,3207," "],[1,3208," "],[-1,3220," "],[1,3221," "],[-1,3285," "],[1,3286," "],[-1,3344," "],[1,3345," "],[-1,3498," "],[1,3499," "],[-1,3581," "],[1,3582," "],[-1,3673," "],[1,3674," "],[-1,3697," "],[1,3698," "],[-1,3791," "],[1,3792," "],[-1,3802," "],[1,3803," "],[-1,3851," "],[1,3852," "],[-1,3860," "],[1,3861," "],[-1,3898," "],[1,3899," "],[-1,3920," "],[1,3921," "],[-1,3960," "],[1,3961," "],[-1,4286," "],[1,4287," "],[-1,4295," "],[1,4296," "],[-1,4346," "],[1,4347," "],[-1,4444," "],[1,4445," "],[-1,4509," "],[1,4510," "],[-1,4831," "],[1,4832," "],[-1,5079," "],[1,5080," "],[-1,5088," or `1` and "],[1,5100," or `1` and "],[-1,5108," or "],[1,5112," or "],[-1,5180," "],[1,5181," "],[-1,5302," "],[1,5303," "],[-1,5349," "],[1,5350," "],[-1,5501," "],[1,5502," "],[-1,6132," "],[1,6133," "],[-1,6138," "],[1,6139," "],[-1,6147," "],[1,6148," "],[-1,6153," "],[1,6154," "],[-1,6169," "],[1,6170," "],[-1,6287," "],[1,6288," "],[-1,6330," "],[1,6331," "],[-1,6408," "],[1,6409," "],[-1,6416," "],[1,6417," "],[-1,6662," "],[1,6663," "],[-1,6698," "],[1,6699," "],[-1,6703," "],[1,6704," "],[-1,6741," "],[1,6742," "],[-1,6749," "],[1,6750," "],[-1,6770," "],[1,6771," "],[-1,6818," "],[1,6819," "],[1,7316,"*"],[-1,7319," "],[1,7320," "],[-1,7352," "],[1,7353," "],[-1,7405," "],[1,7406," "],[-1,7465," "],[1,7466," "],[-1,7506," "],[1,7507," "],[-1,7512," or "],[1,7516," or "],[-1,7534," "],[1,7535," "],[-1,7555," "],[1,7556," "],[-1,7564," "],[1,7565," "],[-1,7576," and "],[1,7581," and "],[-1,7586," "],[1,7587," "],[-1,7654," "],[1,7655," "],[-1,7706," "],[1,7707," "],[-1,7780," "],[1,7781," "],[-1,8075," "],[1,8076," "]],[7314,7314],[7315,7315]]],[1571638355098,["xueni@Ninas-MacBook-Pro.local",[[1,7315," "]],[7315,7315],[7316,7316]]],[1571638357830,["xueni@Ninas-MacBook-Pro.local",[[-1,7348,"   "]],[7351,7351],[7348,7348]]],[1571638358382,["xueni@Ninas-MacBook-Pro.local",[[1,7348," "]],[7348,7348],[7349,7349]]],[1571638360625,["xueni@Ninas-MacBook-Pro.local",[[-1,7398,"*   "]],[7400,7400],[7396,7396]]],[1571638360955,["xueni@Ninas-MacBook-Pro.local",[[-1,7395,"\n"]],[7396,7396],[7395,7395]]],[1571638361556,["xueni@Ninas-MacBook-Pro.local",[[1,7395,"\n"]],[7395,7395],[7396,7396]]],[1571638365005,["xueni@Ninas-MacBook-Pro.local",[[1,7398,"*"]],[7396,7396],[7397,7397]]],[1571638370556,["xueni@Ninas-MacBook-Pro.local",[[1,7397," "]],[7397,7397],[7398,7398]]],[1571638374372,["xueni@Ninas-MacBook-Pro.local",[[-1,7449,"  "]],[7451,7451],[7449,7449]]],[1571638378007,["xueni@Ninas-MacBook-Pro.local",[[-1,7520,"  "]],[7522,7522],[7520,7520]]],[1571638380098,["xueni@Ninas-MacBook-Pro.local",[[-1,7563,"  "]],[7565,7565],[7563,7563]]],[1571638381600,["xueni@Ninas-MacBook-Pro.local",[[-1,7638,"  "]],[7640,7640],[7638,7638]]],[1571638443565,[null,[[-1,0," "],[1,1,"#"],[-1,7316," "],[1,7317,"*"],[-1,7398," "],[1,7399,"*"]],[0,0],[7400,7400]]],[1571638443565,[null,[[1,0," "],[-1,0,"#"],[1,7316," "],[-1,7316,"*"],[1,7398," "],[-1,7398,"*"]],[7400,7400],[0,0]]],[1571638386343,["xueni@Ninas-MacBook-Pro.local",[[-1,7314,"*"]],[7315,7315],[7314,7314]]],[1571638386615,["xueni@Ninas-MacBook-Pro.local",[[1,7314,"-"]],[7314,7314],[7315,7315]]],[1571638388594,["xueni@Ninas-MacBook-Pro.local",[[-1,7347,"*"]],[7348,7348],[7347,7347]]],[1571638389063,["xueni@Ninas-MacBook-Pro.local",[[1,7347,"-"]],[7347,7347],[7348,7348]]],[1571638390619,["xueni@Ninas-MacBook-Pro.local",[[-1,7396,"*"]],[7397,7397],[7396,7396]]],[1571638391408,["xueni@Ninas-MacBook-Pro.local",[[1,7396,"-"]],[7396,7396],[7397,7397]]],[1571638397134,["xueni@Ninas-MacBook-Pro.local",[[-1,7447,"*"]],[7448,7448],[7447,7447]]],[1571638397707,["xueni@Ninas-MacBook-Pro.local",[[1,7447,"-"]],[7447,7447],[7448,7448]]],[1571638404677,["xueni@Ninas-MacBook-Pro.local",[[-1,7518,"*"]],[7519,7519],[7518,7518]]],[1571638405395,["xueni@Ninas-MacBook-Pro.local",[[1,7518,"-"]],[7518,7518],[7519,7519]]],[1571638420137,["xueni@Ninas-MacBook-Pro.local",[[-1,7561,"*"]],[7562,7562],[7561,7561]]],[1571638420798,["xueni@Ninas-MacBook-Pro.local",[[1,7561,"-"]],[7561,7561],[7562,7562]]],[1571638425797,["xueni@Ninas-MacBook-Pro.local",[[-1,7636,"*"]],[7637,7637],[7636,7636]]],[1571638426109,["xueni@Ninas-MacBook-Pro.local",[[1,7636,"-"]],[7636,7636],[7637,7637]]],[1571638428909,["xueni@Ninas-MacBook-Pro.local",[[-1,7561,"- "]],[7563,7563],[7561,7561]]],[1571638429357,["xueni@Ninas-MacBook-Pro.local",[[1,7561," "]],[7561,7561],[7562,7562]]],[1571638429996,["xueni@Ninas-MacBook-Pro.local",[[-1,7561," "]],[7562,7562],[7561,7561]]],[1571638430705,["xueni@Ninas-MacBook-Pro.local",[[1,7561,"- "]],[7561,7561],[7563,7563]]],[1571638433388,["xueni@Ninas-MacBook-Pro.local",[[-1,7637," "]],[7638,7638],[7637,7637]]],[1571638434064,["xueni@Ninas-MacBook-Pro.local",[[1,7637," "]],[7637,7637],[7638,7638]]],[1571638436358,["xueni@Ninas-MacBook-Pro.local",[[-1,7689,"*   "]],[7691,7691],[7687,7687]]],[1571638436962,["xueni@Ninas-MacBook-Pro.local",[[-1,7686,"\n"]],[7687,7687],[7686,7686]]],[1571638437397,["xueni@Ninas-MacBook-Pro.local",[[1,7686,"\n"]],[7686,7686],[7687,7687]]],[1571638438540,["xueni@Ninas-MacBook-Pro.local",[[1,7687,"- "]],[7687,7687],[7689,7689]]],[1571638503572,[null,[[-1,0," "],[1,1,"#"],[-1,7316," "],[1,7317,"*"],[-1,7398," "],[1,7399,"*"],[-1,7690," "],[1,7691,"*"]],[0,0],[7692,7692]]],[1571638503572,[null,[[1,0," "],[-1,0,"#"],[1,7316," "],[-1,7316,"*"],[1,7398," "],[-1,7398,"*"],[1,7690," "],[-1,7690,"*"]],[7692,7692],[0,0]]],[1571638455183,["xueni@Ninas-MacBook-Pro.local",[[1,8330,"\n\n"]],[8330,8330],[8331,8331]]],[1571638455738,["xueni@Ninas-MacBook-Pro.local",[[1,8332,"\n"]],[8331,8331],[8332,8332]]],[1571638474815,["xueni@Ninas-MacBook-Pro.local",[[1,8332,"## Joining data\n\n`join` joins lines of two _sorted_ files on a common field\n\n*   `-1`, `-2` specify fields in files 1 (first argument) and 2 (second argument) that represent keys\n\n```\n$ cat foodtypes.txt\n3 Fat\n1 Protein\n2 Carbohydrate\n\n$ cat foods.txt\nPotato 2\nCheese 1\nButter 3\n\njoin -1 1  -2 2 <(sort foodtypes.txt) <(sort -k 2 foods.txt)\n```\n\nPractically, `join` performs a join operation on KV pairs.\n\n## Orchestrating pipelines\n\n`make` is a dependency-based command executor. It reads a rule file that specifies dependencies between files on disk along with production rules for those.\n\n```\ntarget: depend1 depend2 ... dependn\n  commands to build the target given the dependencies\n```\n\nMake topologically sorts the specified dependency graph and executes commands (in parallel, if `-j` is specified) to generate all output files. If some of those already exist, make skips them.\n\n```\nresult : file.csv\n\nfile.csv : file.txt /usr/bin/tr\n  tr ' ' ',' file.txt > file.csv\n\nfile.txt :\n  curl \"http://a/web/page/file.txt\" > file.txt\n```"]],[8332,8332],[9367,9367]]],[1571638486299,["xueni@Ninas-MacBook-Pro.local",[[1,9368,"\n"]],[9367,9367],[9368,9368]]],[1571638486449,["xueni@Ninas-MacBook-Pro.local",[[1,9369,"\n"]],[9368,9368],[9369,9369]]],[1571638563570,[null,[[-1,0," "],[1,1,"#"],[-1,7316," "],[1,7317,"*"],[-1,7398," "],[1,7399,"*"],[-1,7690," "],[1,7691,"*"]],[0,0],[7692,7692]]],[1571638563570,[null,[[1,0," "],[-1,0,"#"],[1,7316," "],[-1,7316,"*"],[1,7398," "],[-1,7398,"*"],[1,7690," "],[-1,7690,"*"]],[7692,7692],[0,0]]],[1571638505498,["xueni@Ninas-MacBook-Pro.local",[[1,6085,"# The UNIX programming environment"]],[6085,6085],[6119,6119]]],[1571638523651,["xueni@Ninas-MacBook-Pro.local",[[1,39,"\n"]],[38,38],[39,39]]],[1571638524032,["xueni@Ninas-MacBook-Pro.local",[[1,39,"# Data processing at the command line"]],[39,39],[76,76]]],[1571638537599,["xueni@Ninas-MacBook-Pro.local",[[1,106,"\n"]],[105,105],[106,106]]],[1571638537879,["xueni@Ninas-MacBook-Pro.local",[[1,106,"UNIX is a true multiuser operating system. Users have their own private space on the machine’s harddisk and are identified by an _id_ number.\n\n*   All users have a user name and a password and are required to enter them correctly before using the computer.\n*   The user with id **0** is the system’s superuser or administrator and its traditional name is **root**.\n*   UNIX processes act on behalf of the initiating user.\n*   Multiple users can be running multiple processes at the same time.\n*   Users are organised in groups. A group is a set of users that share the same class of permissions."]],[106,106],[701,701]]],[1571638538988,["xueni@Ninas-MacBook-Pro.local",[[1,702,"* \n"]],[701,701],[704,704]]],[1571638540074,["xueni@Ninas-MacBook-Pro.local",[[-1,702,"* "]],[704,704],[703,703]]],[1571638540530,["xueni@Ninas-MacBook-Pro.local",[[1,703,"\n"]],[703,703],[704,704]]],[1571638546308,["xueni@Ninas-MacBook-Pro.local",[[1,77,"\n"]],[76,76],[77,77]]],[1571638548560,["xueni@Ninas-MacBook-Pro.local",[[-1,249,"\n"]],[249,249],[248,248]]],[1571638623572,[null,[[-1,0," "],[1,1,"#"],[-1,7986," "],[1,7987,"*"],[-1,8068," "],[1,8069,"*"],[-1,8360," "],[1,8361,"*"]],[0,0],[8362,8362]]],[1571638623572,[null,[[1,0," "],[-1,0,"#"],[1,7986," "],[-1,7986,"*"],[1,8068," "],[-1,8068,"*"],[1,8360," "],[-1,8360,"*"]],[8362,8362],[0,0]]],[1571638574006,["xueni@Ninas-MacBook-Pro.local",[[1,10039,"# Task-based tools"]],[10039,10039],[10057,10057]]],[1571638583348,["xueni@Ninas-MacBook-Pro.local",[[1,10058,"\n"]],[10057,10057],[10058,10058]]],[1571638583502,["xueni@Ninas-MacBook-Pro.local",[[1,10058,"## Execute a command on a remote host\n\n`ssh` provides a way to securely login to a remote server and get a prompt. In addition, it enables us to remotely execute a command and capture its output\n\n```\n# List of files on host dutihr\nssh dutihr ls\n```\n\nFirewall piercing / tunneling: We can use ssh to access ports on machines where a firewall blocks them\n\n```\n# Connect to port\n$ ssh -L 27017:mongoserver:27017 mongoserver\n\n# On another terminal\n$ mongo localhost:27017\n```\n\n## Retrieve contents from URLs\n\n**curl** queries a URL and prints the raw contents on the terminal\n\n*   `-H` Set an HTTP header, e.g. “Authorization: token OAUTH-TOKEN”\n*   `-i` Display all headers received\n*   `-s` Don’t anything except from the response\n\n```\ncurl -i \"https://api.github.com/repos/vmg/redcarpet/issues\"\n```\n\nWe can then process contents with a pipeline\n\n```\n# Get all magnet links from a page\ncurl -s https://thepiratebay.org/browse/101 | # Get contents\ntidy 2>/dev/null |                            # Tidy up HTML\ngrep magnet\\:\\? |                             # Only get links\ntr -d '\"'                                     # Remove quotes\n```\n\n## Querying JSON data\n\n**json_pp** pretty-prints JSON files\n\n**jq** uses a Domain Specific Language (DSL) to query tree structures in JSON files.\n\n```\n# Extract information for a Cargo package descriptor\ncurl -s \"https://crates.io/api/v1/crates/libc\" |\njq -M '[.crate .id, .crate .repository, .crate .downloads|tostring]|join(\", \")'\n\n\"libc, https://github.com/rust-lang/libc, 7267424\"\n```\n\n## Syncronizing files across hosts\n\n**rsync** can be used to sync files between directories\n\n*   `-a` archive mode, preserve permissions and access times\n*   `-v` display files changed\n*   `--delete`\n\n## Run a command when a directory changes\n\n**inotifywait** watches a directory for changes and prints a log of the changes\n\n*   `-m` enables monitor mode (run forever)\n*   `-r` watch directories recursively\n\n```\n## See changes to your database files\ninotifywait -mr --timefmt '%d/%m/%y %H:%M' --format '%T %w %f' /mongo\n\n## Copy all new files in the current directory to another location\ninotifywait -mr . |\ngrep CLOSE_WRITE |\ncut -f1 -d' ' |\nxargs -I {} cp {} /tmp\n```"]],[10058,10058],[12254,12254]]],[1571638586025,["xueni@Ninas-MacBook-Pro.local",[[1,10058,"\n"]],[10057,10057],[10058,10058]]],[1571638587554,["xueni@Ninas-MacBook-Pro.local",[[-1,10097,"\n"]],[10097,10097],[10096,10096]]],[1571638594348,["xueni@Ninas-MacBook-Pro.local",[[1,10129,"**"],[1,10173,"**"]],[10129,10173],[10129,10177]]],[1571638596364,["xueni@Ninas-MacBook-Pro.local",[[1,10098,"**"],[1,10101,"**"]],[10098,10101],[10098,10105]]],[1571638599795,["xueni@Ninas-MacBook-Pro.local",[[-1,10098,"**"],[-1,10103,"**"]],[10098,10105],[10098,10101]]],[1571638683578,[null,[[-1,0," "],[1,1,"#"],[-1,7986," "],[1,7987,"*"],[-1,8068," "],[1,8069,"*"],[-1,8360," "],[1,8361,"*"]],[0,0],[8362,8362]]],[1571638683578,[null,[[1,0," "],[-1,0,"#"],[1,7986," "],[-1,7986,"*"],[1,8068," "],[-1,8068,"*"],[1,8360," "],[-1,8360,"*"]],[8362,8362],[0,0]]],[1571638631143,["xueni@Ninas-MacBook-Pro.local",[[1,11789,"\n"]],[11788,11788],[11789,11789]]],[1571638632985,["xueni@Ninas-MacBook-Pro.local",[[-1,11832,"\n"]],[11832,11832],[11831,11831]]],[1571638635119,["xueni@Ninas-MacBook-Pro.local",[[1,11832,"\n"]],[11831,11831],[11832,11832]]],[1571638639306,["xueni@Ninas-MacBook-Pro.local",[[1,12260,"\n"]],[12259,12259],[12260,12260]]],[1571638639564,["xueni@Ninas-MacBook-Pro.local",[[1,12261,"\n"]],[12260,12260],[12261,12261]]],[1571638639700,["xueni@Ninas-MacBook-Pro.local",[[1,12262,"\n"]],[12261,12261],[12262,12262]]],[1571638645978,["xueni@Ninas-MacBook-Pro.local",[[1,12262,"# Writing programs"]],[12262,12262],[12280,12280]]],[1571638646735,["xueni@Ninas-MacBook-Pro.local",[[1,12281,"\n"]],[12280,12280],[12281,12281]]],[1571638661192,["xueni@Ninas-MacBook-Pro.local",[[1,12281,"## The `bash` language\n\nBash (Bourne-again shell) is the name of the default command interpreter on most Unix environments. Bash is an almost complete programming language, with an interesting caveat: Many of its operators are programs that can be run individually!\n\nBash supports most\n\n## Variables\n\nVariables in `bash` are strings followed by `=`, e.g. `cwd=\"foo\"` and are dereferenced with `$`, e.g. `echo $cwd`.\n\n```\n# Store the results of running ls in a variable\nlisting=`ls -la`\necho $listing\n```\n\nAn interesting set of variables are called _environment_ variables. Those are declared by the operating system and can be read by all programs. The user can modify them with the `export` program.\n\n```\n$ export |grep PATH\n$ export PATH=$PATH:/home/gousiosg/bin\n$ export |grep PATH\n```\n\n## Conditionals\n\nBash supports if / else blocks\n\n```\nif [ -e 'test' ]; then\n  echo \"File exists\"\nelse\n  echo \"File does not exist\"\nfi\n```\n\n`[` is an alias to the program `test`.\n\n*   `[ $foo = 'test' ]`: Tests string equality\n*   `[ $num -eq 3 ]`: Tests number equality\n*   `[ ! expression ]`: Negates the expression\n\n## Loops\n\nThe `for` loop iterates over all items in the list provided as argument:\n\n```\n# Print 1 2 3 4...\nfor i in `seq 1 10`; do\n  echo $i\ndone\n\n# Iterate over all files in a directory\nfor i in $(ls); do\n  echo `file --mime $i`\ndone\n```\n\n`while` executes a piece of code if the control expression is true\n\n```\nls -fa |tr -s ' '|cut -f9 -d' '|\nwhile read file; do\n  echo `file --mime $file`\ndone\n```\n\n## Command line input\n\n`bash` maps special variables on command line inputs: `$0` is the program name, `$1` is the first argument, `$2` the second etc. More complex command lines (e.g. with switches) can be done with `getopt`.\n\n```\n#!/usr/bin/env bash\n\nargA=\"defaultvalue\"\nwhile getopts \":a\" opt; do\n  case $opt in\n    a)\n      echo \"-a was triggered!\" >&2\n      argA=$OPTARG\n      ;;\n    \\?)\n      echo \"Invalid option: -$OPTARG\" >&2\n      ;;\n  esac\ndone\n```\n\nThe program above also illustrates the use of `case`\n\n## Content credits\n\n*   [Unix license plate](http://www.unix.org/license-plate.html), by the Open Group\n\n## Bibliography"]],[12281,12281],[14426,14426]]],[1571638665085,["xueni@Ninas-MacBook-Pro.local",[[-1,14306,"## Content credits"],[-1,14326,"*   [Unix license plate](http://www.unix.org/license-plate.html), by the Open Group\n\n## Bibliography\n"]],[14306,14426],[14307,14307]]]],null,"xueni@Ninas-MacBook-Pro.local"]]}